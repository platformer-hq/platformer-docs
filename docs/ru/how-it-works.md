# Как это работает

Первый вопрос, который может возникнуть у разработчика: *как работает Платформер?*

Платформер интегрируется с различными платформами мини-приложений и предоставляет специализированные адаптеры — как
правило, в виде полноценных оболочек. Эти адаптеры, называемые **лаунчерами**, обладают гибкими настройками, которые
разработчики могут использовать под свои задачи.

Каждый лаунчер действует как промежуточное звено между приложением разработчика и нативным клиентом платформы. Он решает
платформно-зависимые проблемы и добавляет дополнительный уровень функциональности.

При запуске лаунчер извлекает данные из окружения, запрашивает информацию у API Платформера и определяет дальнейшие
действия на основе ответа сервера.

…и всё! Вся сложная логика остаётся на стороне сервера, благодаря чему лаунчер остаётся лёгким, быстрым и удобным в
использовании.

## Открытие приложений разработчиков

Платформер — это не просто инфраструктура. Это полноценная экосистема мини-приложений, предлагающая гибкие способы
запуска как собственных приложений, так и решений, разработанных для поддерживаемых платформ, таких как Telegram Mini
Apps.

Существует два основных сценария запуска приложений:

* **Внутри существующего приложения разработчика**: если у вас уже есть приложение на поддерживаемой платформе, вы
  можете подключиться к Платформеру через специализированный лаунчер. Это позволяет вам использовать весь потенциал
  Платформера в рамках уже существующей инфраструктуры.

> [!NOTE] Поддерживаемые платформы
> В настоящее время Платформер предоставляет лаунчер только для **Telegram Mini Apps**. Поддержка других платформ будет
> добавлена позже.

* **В отдельном приложении**: если вы не хотите или не можете публиковаться на текущих платформах, вы всё равно можете
  запускать свои приложения через Платформер — независимо и автономно.

> [!WARNING] Компромиссы
> Такой подход накладывает некоторые ограничения: платформа-специфические функции будут недоступны из соображений
> безопасности. Рекомендуется привязать приложение к поддерживаемой платформе для получения полного набора возможностей.

> [!NOTE] В разработке
> Данный режим запуска всё ещё находится в стадии **разработки** и станет доступен в ближайшем будущем.

## О лаунчерах

Лаунчеры — это автономные open-source веб-приложения, которые позволяют Платформеру корректно отображать и обрабатывать
мини-приложения в контексте конкретной платформы. Каждый лаунчер тщательно адаптирован под особенности своей целевой
среды.

В настоящее время доступен лаунчер, созданный для Telegram. Его исходный код открыт и
доступен [по ссылке](https://github.com/platformer-hq/platformer-monorepo/tree/master/apps/telegram-launcher).

Лаунчер играет роль посредника между нативным клиентом и приложением разработчика. Он не просто отображает интерфейс, но
и берёт на себя решение технических задач, специфичных для платформы, избавляя разработчика от необходимости делать это
самостоятельно.

Кроме того, лаунчеры реализуют уникальные функции, специфичные для Платформера, часть из которых пока не была
анонсирована публично.

## Вопросы безопасности

Безопасность — один из ключевых приоритетов Платформера. Поскольку в текущий момент платформа поддерживает только
Telegram, сосредоточим внимание именно на нём.

Платформер использует только локальное хранилище и сохраняет там лишь авторизационный токен. Он не обращается к облачным
хранилищам Telegram или иным видам персистентного хранения, поскольку не может гарантировать безопасность таких данных.
Это позволяет исключить возможность кражи токена сторонними приложениями.

Самая чувствительная часть данных — это [init data](https://docs.telegram-mini-apps.com/platform/init-data),
передаваемая Telegram при запуске мини-приложения. Чтобы исключить любые риски злоупотребления (например, подделку
пользователя в чужом приложении), лаунчер автоматически удаляет параметр `hash` из init data, тем самым делая
невозможным его повторное использование.

Вместо этого используется недавно представленная функция
Telegram — [Third-Party Validation](https://docs.telegram-mini-apps.com/platform/init-data#using-telegram-public-key).
Она позволяет верифицировать подлинность init data с помощью свойства `signature`. Благодаря этому Платформер требует от
Вас лишь одно: указать ID вашего Telegram-бота в [админ-панели мини-приложения](https://t.me/platformer_robot/admin).
